{"ast":null,"code":"import { DELETE_POST } from '../types';\nimport axios from 'axios';\nexport const deletePost = postId => dispatch => {\n  axios.delete(`https://cors-anywere.herokuapp.com/https://us-central1-socialapp-35d2e.cloudfunctions.net/api/post/${postId}`).then(() => {\n    console.log(\"worked\");\n    dispatch({\n      type: DELETE_POST,\n      payload: postId\n    });\n  }).catch(err => console.log(err, \"yep\"));\n};\n\nexports.getAllPosts = (req, res) => {\n  res.header(\"Access-Control-Allow-Origin\", \"*\");\n  db.collection('Posts').orderBy('createdAt', 'desc').get().then(data => {\n    let posts = [];\n    data.forEach(doc => {\n      posts.push({\n        postId: doc.id,\n        body: doc.data().body,\n        userHandle: doc.data().userHandle,\n        createdAt: doc.data().createdAt\n      });\n    });\n    return res.json(posts);\n  }).catch(err => {\n    console.error(err);\n    res.status(500).json({\n      error: err.code\n    });\n  });\n};","map":{"version":3,"sources":["C:/Users/csamu/Desktop/commentwars/src/redux/actions/dataActions.js"],"names":["DELETE_POST","axios","deletePost","postId","dispatch","delete","then","console","log","type","payload","catch","err","exports","getAllPosts","req","res","header","db","collection","orderBy","get","data","posts","forEach","doc","push","id","body","userHandle","createdAt","json","error","status","code"],"mappings":"AAAA,SACIA,WADJ,QAES,UAFT;AAGE,OAAOC,KAAP,MAAkB,OAAlB;AAGA,OAAO,MAAMC,UAAU,GAAIC,MAAD,IAAaC,QAAD,IAAc;AAClDH,EAAAA,KAAK,CACFI,MADH,CACW,sGAAqGF,MAAO,EADvH,EAEGG,IAFH,CAEQ,MAAM;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACAJ,IAAAA,QAAQ,CAAC;AAAEK,MAAAA,IAAI,EAAET,WAAR;AAAqBU,MAAAA,OAAO,EAAEP;AAA9B,KAAD,CAAR;AACD,GALH,EAMGQ,KANH,CAMUC,GAAD,IAASL,OAAO,CAACC,GAAR,CAAYI,GAAZ,EAAgB,KAAhB,CANlB;AAOD,CARM;;AAUPC,OAAO,CAACC,WAAR,GAAsB,CAACC,GAAD,EAAMC,GAAN,KAAc;AAClCA,EAAAA,GAAG,CAACC,MAAJ,CAAW,6BAAX,EAA0C,GAA1C;AACAC,EAAAA,EAAE,CAACC,UAAH,CAAc,OAAd,EACGC,OADH,CACW,WADX,EACwB,MADxB,EAEGC,GAFH,GAGGf,IAHH,CAGSgB,IAAD,IAAU;AACd,QAAIC,KAAK,GAAG,EAAZ;AACAD,IAAAA,IAAI,CAACE,OAAL,CAAcC,GAAD,IAAS;AACpBF,MAAAA,KAAK,CAACG,IAAN,CAAW;AACTvB,QAAAA,MAAM,EAAEsB,GAAG,CAACE,EADH;AAETC,QAAAA,IAAI,EAAEH,GAAG,CAACH,IAAJ,GAAWM,IAFR;AAGTC,QAAAA,UAAU,EAAEJ,GAAG,CAACH,IAAJ,GAAWO,UAHd;AAITC,QAAAA,SAAS,EAAEL,GAAG,CAACH,IAAJ,GAAWQ;AAJb,OAAX;AAMD,KAPD;AAQA,WAAOd,GAAG,CAACe,IAAJ,CAASR,KAAT,CAAP;AACD,GAdH,EAeGZ,KAfH,CAeUC,GAAD,IAAS;AACdL,IAAAA,OAAO,CAACyB,KAAR,CAAcpB,GAAd;AACAI,IAAAA,GAAG,CAACiB,MAAJ,CAAW,GAAX,EAAgBF,IAAhB,CAAqB;AAAEC,MAAAA,KAAK,EAAEpB,GAAG,CAACsB;AAAb,KAArB;AACD,GAlBH;AAmBD,CArBD","sourcesContent":["import {\r\n    DELETE_POST,\r\n  } from '../types';\r\n  import axios from 'axios';\r\n  \r\n\r\n  export const deletePost = (postId) => (dispatch) => {\r\n    axios\r\n      .delete(`https://cors-anywere.herokuapp.com/https://us-central1-socialapp-35d2e.cloudfunctions.net/api/post/${postId}`)\r\n      .then(() => {\r\n        console.log(\"worked\")\r\n        dispatch({ type: DELETE_POST, payload: postId });\r\n      })\r\n      .catch((err) => console.log(err,\"yep\"));\r\n  };\r\n\r\n  exports.getAllPosts = (req, res) => {\r\n    res.header(\"Access-Control-Allow-Origin\", \"*\");\r\n    db.collection('Posts')\r\n      .orderBy('createdAt', 'desc')\r\n      .get()\r\n      .then((data) => {\r\n        let posts = [];\r\n        data.forEach((doc) => {\r\n          posts.push({\r\n            postId: doc.id,\r\n            body: doc.data().body,\r\n            userHandle: doc.data().userHandle,\r\n            createdAt: doc.data().createdAt\r\n          });\r\n        });\r\n        return res.json(posts);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n        res.status(500).json({ error: err.code });\r\n      });\r\n  };\r\n\r\n  "]},"metadata":{},"sourceType":"module"}