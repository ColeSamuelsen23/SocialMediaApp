{"ast":null,"code":"import{DELETE_POST,SET_POSTS,LOADING_DATA,SET_GOAL,SET_DAILY_GOAL,LOADING_UI,POST_RESPONSE,CLEAR_ERRORS,SET_ERRORS,ADD_ACHIEVMENT}from'../types';import axios from'axios';export var deletePost=function deletePost(postId){return function(dispatch){axios.delete(\"https://cors-anywere.herokuapp.com/https://us-central1-socialapp-35d2e.cloudfunctions.net/api/post/\".concat(postId)).then(function(){dispatch({type:DELETE_POST,payload:postId});});};};export var setDailyGoal=function setDailyGoal(){return function(dispatch){console.log(\"setDailyGoal\");axios.get(\"https://cors-anywere.herokuapp.com/https://us-central1-socialapp-35d2e.cloudfunctions.net/api/setgoal\").then(function(){dispatch({type:SET_DAILY_GOAL});dispatch(getDailyGoal());console.log(\"worked\");});};};export var getPosts=function getPosts(){return function(dispatch){dispatch({type:LOADING_DATA});axios.get('https://cors-anywere.herokuapp.com/https://us-central1-socialapp-35d2e.cloudfunctions.net/api/posts').then(function(res){dispatch({type:SET_POSTS,payload:res.data});}).catch(function(err){dispatch({type:SET_POSTS,payload:[]});});};};// Post a Response\nexport var postResponse=function postResponse(newPost){return function(dispatch){dispatch({type:LOADING_UI});axios.post('https://cors-anywere.herokuapp.com/https://us-central1-socialapp-35d2e.cloudfunctions.net/api/post',newPost).then(function(res){dispatch({type:POST_RESPONSE,payload:res.data});dispatch(clearErrors());}).catch(function(err){dispatch({type:SET_ERRORS});});};};// Add Achievment\nexport var addAchievment=function addAchievment(newAchievment){return function(dispatch){axios.post('https://cors-anywere.herokuapp.com/https://us-central1-socialapp-35d2e.cloudfunctions.net/api/addachievment',newAchievment).then(function(res){dispatch({type:ADD_ACHIEVMENT});dispatch(clearErrors());}).catch(function(err){dispatch({type:SET_ERRORS});});};};export var getDailyGoal=function getDailyGoal(){return function(dispatch){dispatch({type:LOADING_DATA});axios.get('https://cors-anywere.herokuapp.com/https://us-central1-socialapp-35d2e.cloudfunctions.net/api/dailygoal').then(function(res){dispatch({type:SET_GOAL,payload:res.data});}).catch(function(err){dispatch({type:SET_GOAL,payload:[]});});};};export var clearErrors=function clearErrors(){return function(dispatch){dispatch({type:CLEAR_ERRORS});};};","map":{"version":3,"sources":["C:/Users/csamu/OneDrive/Desktop/Desktop/commentwars/src/redux/actions/dataActions.js"],"names":["DELETE_POST","SET_POSTS","LOADING_DATA","SET_GOAL","SET_DAILY_GOAL","LOADING_UI","POST_RESPONSE","CLEAR_ERRORS","SET_ERRORS","ADD_ACHIEVMENT","axios","deletePost","postId","dispatch","delete","then","type","payload","setDailyGoal","console","log","get","getDailyGoal","getPosts","res","data","catch","err","postResponse","newPost","post","clearErrors","addAchievment","newAchievment"],"mappings":"AAAA,OACIA,WADJ,CACiBC,SADjB,CAC4BC,YAD5B,CAC0CC,QAD1C,CACoDC,cADpD,CACmEC,UADnE,CAC8EC,aAD9E,CAC4FC,YAD5F,CACyGC,UADzG,CACoHC,cADpH,KAES,UAFT,CAGE,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAGA,MAAO,IAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,MAAD,QAAY,UAACC,QAAD,CAAc,CAClDH,KAAK,CACFI,MADH,8GACgHF,MADhH,GAEGG,IAFH,CAEQ,UAAM,CAEVF,QAAQ,CAAC,CAAEG,IAAI,CAAEhB,WAAR,CAAqBiB,OAAO,CAAEL,MAA9B,CAAD,CAAR,CACD,CALH,EAMD,CAPyB,EAAnB,CAUP,MAAO,IAAMM,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,SAAM,UAACL,QAAD,CAAc,CAC9CM,OAAO,CAACC,GAAR,CAAY,cAAZ,EACAV,KAAK,CACFW,GADH,0GAEGN,IAFH,CAEQ,UAAM,CACVF,QAAQ,CAAC,CAAEG,IAAI,CAAEZ,cAAR,CAAD,CAAR,CACAS,QAAQ,CAACS,YAAY,EAAb,CAAR,CACAH,OAAO,CAACC,GAAR,CAAY,QAAZ,EACD,CANH,EAOD,CAT2B,EAArB,CAYP,MAAO,IAAMG,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,SAAM,UAACV,QAAD,CAAc,CAC1CA,QAAQ,CAAC,CAAEG,IAAI,CAAEd,YAAR,CAAD,CAAR,CACAQ,KAAK,CACDW,GADJ,CACQ,qGADR,EAEIN,IAFJ,CAES,SAACS,GAAD,CAAS,CACdX,QAAQ,CAAC,CACPG,IAAI,CAAEf,SADC,CAEPgB,OAAO,CAAEO,GAAG,CAACC,IAFN,CAAD,CAAR,CAID,CAPH,EAQGC,KARH,CAQS,SAACC,GAAD,CAAS,CACdd,QAAQ,CAAC,CACPG,IAAI,CAAEf,SADC,CAEPgB,OAAO,CAAE,EAFF,CAAD,CAAR,CAID,CAbH,EAcD,CAhBuB,EAAjB,CAkBP;AACF,MAAO,IAAMW,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,OAAD,QAAa,UAAChB,QAAD,CAAc,CACrDA,QAAQ,CAAC,CAAEG,IAAI,CAAEX,UAAR,CAAD,CAAR,CACAK,KAAK,CACFoB,IADH,CACQ,oGADR,CAC8GD,OAD9G,EAEGd,IAFH,CAEQ,SAACS,GAAD,CAAS,CACbX,QAAQ,CAAC,CACPG,IAAI,CAAEV,aADC,CAEPW,OAAO,CAAEO,GAAG,CAACC,IAFN,CAAD,CAAR,CAIAZ,QAAQ,CAACkB,WAAW,EAAZ,CAAR,CACD,CARH,EASGL,KATH,CASS,SAACC,GAAD,CAAS,CACdd,QAAQ,CAAC,CACPG,IAAI,CAAER,UADC,CAAD,CAAR,CAGD,CAbH,EAcD,CAhB2B,EAArB,CAkBL;AACA,MAAO,IAAMwB,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,aAAD,QAAmB,UAACpB,QAAD,CAAc,CAC5DH,KAAK,CACFoB,IADH,CACQ,6GADR,CACuHG,aADvH,EAEGlB,IAFH,CAEQ,SAACS,GAAD,CAAS,CACbX,QAAQ,CAAC,CACPG,IAAI,CAAEP,cADC,CAAD,CAAR,CAGAI,QAAQ,CAACkB,WAAW,EAAZ,CAAR,CACD,CAPH,EAQGL,KARH,CAQS,SAACC,GAAD,CAAS,CACdd,QAAQ,CAAC,CACPG,IAAI,CAAER,UADC,CAAD,CAAR,CAGD,CAZH,EAaD,CAd4B,EAAtB,CAgBP,MAAO,IAAMc,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,SAAM,UAACT,QAAD,CAAc,CAC9CA,QAAQ,CAAC,CAAEG,IAAI,CAAEd,YAAR,CAAD,CAAR,CACAQ,KAAK,CACDW,GADJ,CACQ,yGADR,EAEIN,IAFJ,CAES,SAACS,GAAD,CAAS,CACdX,QAAQ,CAAC,CACPG,IAAI,CAAEb,QADC,CAEPc,OAAO,CAAEO,GAAG,CAACC,IAFN,CAAD,CAAR,CAID,CAPH,EAQGC,KARH,CAQS,SAACC,GAAD,CAAS,CACdd,QAAQ,CAAC,CACPG,IAAI,CAAEb,QADC,CAEPc,OAAO,CAAE,EAFF,CAAD,CAAR,CAID,CAbH,EAcD,CAhB2B,EAArB,CAkBP,MAAO,IAAMc,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,SAAM,UAAClB,QAAD,CAAc,CAC7CA,QAAQ,CAAC,CAAEG,IAAI,CAAET,YAAR,CAAD,CAAR,CACD,CAF0B,EAApB","sourcesContent":["import {\r\n    DELETE_POST, SET_POSTS, LOADING_DATA, SET_GOAL, SET_DAILY_GOAL,LOADING_UI,POST_RESPONSE,CLEAR_ERRORS,SET_ERRORS,ADD_ACHIEVMENT\r\n  } from '../types';\r\n  import axios from 'axios';\r\n  \r\n\r\n  export const deletePost = (postId) => (dispatch) => {\r\n    axios\r\n      .delete(`https://cors-anywere.herokuapp.com/https://us-central1-socialapp-35d2e.cloudfunctions.net/api/post/${postId}`)\r\n      .then(() => {\r\n\r\n        dispatch({ type: DELETE_POST, payload: postId });\r\n      })\r\n  };\r\n\r\n\r\n  export const setDailyGoal = () => (dispatch) => {\r\n    console.log(\"setDailyGoal\")\r\n    axios\r\n      .get(`https://cors-anywere.herokuapp.com/https://us-central1-socialapp-35d2e.cloudfunctions.net/api/setgoal`)\r\n      .then(() => {\r\n        dispatch({ type: SET_DAILY_GOAL});\r\n        dispatch(getDailyGoal());\r\n        console.log(\"worked\")\r\n      })\r\n  };\r\n\r\n\r\n  export const getPosts = () => (dispatch) => {\r\n    dispatch({ type: LOADING_DATA });\r\n    axios\r\n       .get('https://cors-anywere.herokuapp.com/https://us-central1-socialapp-35d2e.cloudfunctions.net/api/posts')\r\n       .then((res) => {\r\n        dispatch({\r\n          type: SET_POSTS,\r\n          payload: res.data\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        dispatch({\r\n          type: SET_POSTS,\r\n          payload: []\r\n        });\r\n      });\r\n  };\r\n\r\n  // Post a Response\r\nexport const postResponse = (newPost) => (dispatch) => {\r\n  dispatch({ type: LOADING_UI });\r\n  axios\r\n    .post('https://cors-anywere.herokuapp.com/https://us-central1-socialapp-35d2e.cloudfunctions.net/api/post', newPost)\r\n    .then((res) => {\r\n      dispatch({\r\n        type: POST_RESPONSE,\r\n        payload: res.data\r\n      });\r\n      dispatch(clearErrors());\r\n    })\r\n    .catch((err) => {\r\n      dispatch({\r\n        type: SET_ERRORS\r\n      });\r\n    });\r\n};\r\n\r\n  // Add Achievment\r\n  export const addAchievment = (newAchievment) => (dispatch) => {\r\n    axios\r\n      .post('https://cors-anywere.herokuapp.com/https://us-central1-socialapp-35d2e.cloudfunctions.net/api/addachievment', newAchievment)\r\n      .then((res) => {\r\n        dispatch({\r\n          type: ADD_ACHIEVMENT\r\n        });\r\n        dispatch(clearErrors());\r\n      })\r\n      .catch((err) => {\r\n        dispatch({\r\n          type: SET_ERRORS\r\n        });\r\n      });\r\n  };\r\n\r\n  export const getDailyGoal = () => (dispatch) => {\r\n    dispatch({ type: LOADING_DATA });\r\n    axios\r\n       .get('https://cors-anywere.herokuapp.com/https://us-central1-socialapp-35d2e.cloudfunctions.net/api/dailygoal')\r\n       .then((res) => {\r\n        dispatch({\r\n          type: SET_GOAL,\r\n          payload: res.data\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        dispatch({\r\n          type: SET_GOAL,\r\n          payload: []\r\n        });\r\n      });\r\n  };\r\n\r\n  export const clearErrors = () => (dispatch) => {\r\n    dispatch({ type: CLEAR_ERRORS });\r\n  };"]},"metadata":{},"sourceType":"module"}